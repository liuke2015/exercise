<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script type="text/javascript">
    /*

     请使用正则表达式，来将如下的字符串中的占位符都换成数组中下标对应的的内容。
     字符串为：My name is{0}.I am{1} years old.I am in class{2} grade{3}.
     给定的数组为：var a=["珠峰培训",38,4,6];
     */
    //    var str="My name is{0}.I am{1} years old.I am in class{2} grade{3}.";
    //    var a=["珠峰培训",38,4,6];
    //    var reg=/\{\d\}/g;
    //    var str=str.replace(reg,function(){
    //        var str1=arguments[0];
    //        var n=str1.match(/\d/)[0];
    //        return a[n];
    //    });
    //    console.log(str);

    //    var str = "My name is{0}.I am{1} years old.I am in class{2} grade{3}.";
    //    var a = ["珠峰培训", 38, 4, 6];
    //    var reg = /\{\d\}/g;
    //    var str = str.replace(reg, function () {
    //        // console.log(arguments[0].match(/\d/));
    //        return a[arguments[0].match(/\d/)[0]];
    //    });
    //    console.log(str);

    //    var str="My name is{0}.I am{1} years old.I am in class{2} grade{3}.";
    //    var a=["珠峰培训",38,4,6];
    //    var reg=/\{(\d)\}/g;
    //    var str=str.replace(reg,function(){
    //如果正则有了分组，则第一个参数还是总正则捕获到的内容，接下来依次是各个分组捕获到的内容，最后两个参数是第一个参数在原字符串中的索引位置和原字符串
    //        return a[arguments[1]];
    //    })

    //    var str="123a778b332c";
    //    var reg=/(\d)(\d)(\d)/g;
    //    str=str.replace(reg,function(){
    //        var n=-arguments[1]-arguments[2]-arguments[3];
    //        return -n;
    //    });
    //    console.log(str);

    // var str="7895279273";//7,895,279,273 给数字加上千分符
    //  var reg=/^(\d{1,2})?((?:\d{3})+)$/;
    //  console.log(str.match(reg));//["7895279273", "7", "895279273", "273", index: 0, input: "7895279273"]

    //    var str="777895279273";//777,895,279,273 给数字加上千分符
    //    var reg=/^(\d{1,2})?((?:\d{3})+)$/;
    //    console.log(str.match(reg));//["777895279273", undefined, "777895279273", index: 0, input: "777895279273"]

    //    var str="7895279273";//777,895,279,273 给数字加上千分符
    //    var reg=/^(\d{1,3})((?:\d{3})+)$/;
    //    str=str.replace(reg,function(){
    //        var str1=arguments[1];
    //        var str2=arguments[2];
    //        var reg2=/(\d{3})/g;
    //
    //        str2=str2.replace(/(\d{3})/g,function(){
    //            return ","+arguments[1];
    //        });
    //        return str1+str2;
    //    })
    //    console.log(str);

    //应该为倒数第n%3为0的位置上，前边加逗号
    //字符串的总长度-当前字符的索引位置就是倒数的位置
    //最后用这个方案：(倒数位置-1)%3==0 则在这一位的后边加逗号

    //    var str="7994773219";
    //    str=str.replace(/\d(?!$)/g,function(){
    //
    //        if((arguments[2].length-arguments[1]-1)%3===0){
    //            return arguments[0]+",";
    //        }else{
    //            return arguments[0];
    //        }
    //    });
    //    console.log(str);

    var str = "7994773219";
    "912,377,499,7"
    str = str.split("").reverse().join("");
    str = str.replace(/\d(?!$)/g, function () {
        if ((arguments[1] + 1) % 3 === 0) {
            return arguments[0] + ",";
        } else {
            return arguments[0];
        }
    });
    str = str.split("").reverse().join("");
    console.log(str);

</script>
</body>
</html>