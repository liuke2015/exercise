<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>验证码</title>
    <style type="text/css">
        html, body {
            margin: 0;
            padding: 0;
            font-family: "\5FAE\8F6F\96C5\9ED1", Helvetica, sans-serif;
            font-size: 14px;
        }

        #code {
            width: 80px;
            height: 28px;
            line-height: 28px;
            color: #004444;
            border: 1px solid #f08519;
            margin: 50px auto;
            text-align: center;
            letter-spacing: 3px;
            cursor: pointer;
            -webkit-user-select: none;
        }
    </style>
</head>
<body>
<div id="code">h2K9</div>
<script type="text/javascript">
    var oDiv = document.getElementById("code");
    function changeNum() {
        var codeStr = "abcdefghijklmnopqistuvwxyzABCDEFGHIJKLMNOPQISTUVWXYZ1234567890", str = "", n = null;//取下标0-61
        /* for(var i=0;i<4;i++){
         n=Math.round(Math.random()*(61-0)+0);
         str+=codeStr.charAt(n);
         }*/
        //取不重复的4个字符作为验证码
        var obj = {};
        for (var i = 0; i < 4; i++) {
            n = Math.round(Math.random() * (61 - 0) + 0);
            if (obj[n] === n) {
                i--;
                continue;
            }
            obj[n] = n;
            str += codeStr.charAt(n);
        }
        obj = null;
        oDiv.innerHTML = str;
    }
    changeNum();
    oDiv.onclick = changeNum;
</script>
</body>
</html>